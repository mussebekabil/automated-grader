dispatcher:
  handler: src/functions/dispatcher/handler.main
  events:
    - http:
        path: grade
        method: post
        request:
          schemas:
            application/json: ${file(src/schemas/submission.json)}
  environment:
    GRADER_SNS_TOPIC_ARN: !Ref PythonGraderSNSTopic
    GRADER_SNS_SUBSCRIPTION: !Ref PythonGraderSNSSubscription
pythonGrader:
  image: pythonimage
  timeout: 900
  events:
    - sqs:
        arn: !GetAtt PythonGraderQueue.Arn
